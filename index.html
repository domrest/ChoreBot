<h1 align="center"> TrashBot </h1>

<p align="center">
<img src="images/Facebook Post 940x788 px (3).gif"/>
</p>

Your gateway into the future!
</br>
TrashBot is an open-source project which monitors the temperature of the trash bins and reminds you to take out the trash before it goes bad!
</br>
</br>
<div align="center">
  <img src="images/Facebook Post 940x788 px (4).gif" alt="Animation" width="600">
</div>
</br>


<h1> About The Project </h1> 


The inspiration of the project was taken from the waste management necessity for our planet. To target a zero waste planet, healthy habits with useful gadgets can help us move towards this global goal. 

The most common issue we see is that in the public spaces and streets the trash bins are collected and emptied without even checking if they are full or not which leads to waste of resources. And sometimes, the trash bins would start overflowing and waste would collect and would continue to pile up ruining the natural and preserved spaces. To target this issue we started at a smaller level.

We planned on implementing this idea at home by implementing a smart bin - a 'TrashBot' which upon measuring the temperature of the waste would detect the decay and send an alert to user to empty the trash. Along with creating a fun home automation project this will help create a healthy habit of being mindful of clearing the waste timely.

This project can then be expanded for largescale implementation especially in residential area streets and parks. Before trash overflows and starts to decay spreading unpleasant smell in beautiful natural spaces, Trashbot will send an alert to the waste collectors.


<h1> Getting Started</h1> 

<p>
There are 3 components to this project:
</br>`Temperature Sensors`
</br>`Email Alert`
</br>`Gui`
</p>




<h1 > Prerequisites </h1>

To get the project up and running by yourself, follow these steps:
</br>
GUI Prerequisites:
</br>
apt-get install qtdeclarative5-dev-tools
</br>
apt-get install libqcustomplot-dev
</br>
Email Messaging Prerequisites:
</br>
sudo apt-get install libssl-dev
</br>
sudo apt-get install libboost-all-dev
</br>
Temp Sensor Prerequisites:
</br>
sudo apt-get install pigpio python-pigpio python3-pigpio
</br>

<h1> Installation </h1>  

Clone Repository:
</br>
git clone https://github.com/domrest/TrashBot.git
</br>
Run Cmake within directory:
</br>
cmake .
</br>
Run Make:
</br>
make
</br>
Run Program:
</br>
sudo ./Trashbot
</br>
<h1> Temperature Sensors </h1>

<h2> Usage </h2> 
Trashbot receives its temperature readings via two Tsic 306 temperature sensors, which have an error of +-0.3 K and a sampling rate of 10 Hz. These are connected to the Pi via the ground and 5V Power, and with the data pins connected to seperate GPIO ports. The TSIC Temperature Sensors will communicate to the Pi passing the current temperature reading from the sensor through two packets of data transmitted at a Baud Rate of 8kHz This is done through the ZACWire Protocol. The Pi will interrupt on every bit received, storing the bit and decoding it into a temperature once both packets arrive.

<h2 > Sensor Component </h2> 

As stated the temperature sensors utilised within the system are two TSIC 306 sensors
These can be found on <a href="https://uk.rs-online.com/web/p/temperature-humidity-sensor-ics/1218022/">RS-Online</a> for a price of £6.46 each.


<p >
<img src="images/Tsic306.jpg"/>
</p>

The sensor has Three pins:
</br>- Power
</br>- Data
</br>- Ground
</br>
Which were soldered to distinct wires
</br>
The Power wires were then connected to the same Power pin on the Raspberry Pi, similarly to the Ground wires conencted to the same ground pin on the raspberryPi.
GPIO pins 23 and 24 were connected to the remaining Data wires.

<p>
<img src="images/GPIO-Pinout-Diagram-2.png"/>
</p>
<h1 >Messaging</h1>

The main functionality of the message functionality was created by following the guide found here: http://raspberrypiprogramming.blogspot.com/2014/09/send-email-to-gmail-in-c-with-boost-and.html

The code relies on 4 Classes for sending the message: ‘MySMTP’, ‘Socket’, ’MyOpenSSL’ and ‘Messaging’. The SMTP class which takes the server address, the port, the sender and the destination and the message subject and body. Socket maintaints the connection using the server address and port information. Since gmail is used the service address is smtp.gmail.com and the port is 465 because Secure Sockets Layer (SSL) is used. SSL is a secure way to read and write data to the connection.

For simple implementation in the main program a messaging class is created. It defines everything SMTP needs to send a message and creates different messages for when Thrashbot starts up, when the trash is heating up and when the trash has to be taken out.

<h1 >Message usage</h1>

Currently the message contents and destination are hardcoded and can only be changed in Messaging.cpp.
</br>

<h1 > Graphical User Interface - GUI </h1>

A very quick and easy GUI can be made using QT widgets and C++ programming.
</br>
QT is a cross platform windows development environment for Linux/Windows
and Mac.
Elements in QT are Widgets which can contain anything form plots,
buttons or text fields. They are classes. You can define your own widgets or
use ready made ones.

<h1 >Qt and Qwt Widgets and Classes</h1>

<p >
A layout in QT is defined in a declarative way as layout classes forexample horizontal or vertical layouts. From existing widgets like QwtThermo you can get a thermometer widget and then set its size and color accordingly using its functions.
With various available classes like QLabel and Qfont you can change font size, colors and add labels to your GUI window.
</br>
Downloading the source code and after installing the required libraries mentioned in instructions above. You can get this handy GUI up and running in no time and can play around with  it to make it your own!
</p>

<p >
<img src="images/Trashbot_screenshot.png" alt="gui">
</p>
